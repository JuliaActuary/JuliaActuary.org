<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <meta name=Description  content="Practical, extensible, and open-source actuarial modeling and analysis."> <meta property="og:description" content="Practical, extensible, and open-source actuarial modeling and analysis."> <meta property="og:image" content="/assets/logo_square.svg"> <script> MathJax = { tex: { inlineMath: [['$', '$'], ["\\(", "\\)"]], processEscapes: true, } }; </script> <script async src="/assets/MathJax/MathJax-3.2.2/es5/tex-mml-chtml.js"> </script> <style> @font-face { src: url("//assets/MathJax/MathJax-3.2.2/es5/output/chtml/fonts/woff-v2/MathJax_Main-Regular.woff"> } </style> <style> @font-face { src: url("//assets/MathJax/MathJax-3.2.2/es5/output/chtml/fonts/woff-v2/MathJax_Zero.woff"> } </style> <style> @font-face { src: url("//assets/MathJax/MathJax-3.2.2/es5/output/chtml/fonts/woff-v2/MathJax_Math-Italic.woff"> } </style> <link rel=stylesheet  href="/libs/highlight/github.min.css"> <link rel=stylesheet  href="/css/franklin.css"> <link rel=stylesheet  href="/css/basic.css"> <link rel=icon  href="/assets/favicon.png"> <title>Fitting Yield Curves to rates | JuliaActuary</title> <link rel=apple-touch-icon  sizes=180x180  href="/assets/apple-touch-icon.png"> <link rel=icon  type="image/png" sizes=32x32  href="/assets/favicon-32x32.png"> <link rel=icon  type="image/png" sizes=16x16  href="/assets/favicon-16x16.png"> <link rel=manifest  href="/assets/site.webmanifest"> <script src="https://cdn.jsdelivr.net/npm/swiffy-slider@1.2.0/dist/js/swiffy-slider.min.js" crossorigin=anonymous  defer></script> <link href="/css/slider.css" rel=stylesheet > <header> <div class=blog-name > <a href="/"> <div class=blog-name-logo-container > <div class=blog-name-logo > <img src="/assets/logo_square.svg" alt=logo  height=100px  width=100px  /> </div> <div>JuliaActuary</div> </div> </a> <div class=tagline >Practical, extensible, and open-source actuarial modeling and analysis. </div> </div> <nav> <ul> <li><a href="/">Home</a> <li><a href="/packages">Packages</a> <li><a href="/community">Community</a> <ul> <li><a href="/community/#learn">Learn</a> <li><a href="/community/#integration_with_r_and_python">Integration</a> <li><a href="/community/#contributing">Contributing</a> </ul> <li><a href="/#blog">Blog</a> </ul> <img src="/assets/hamburger.svg" id=menu-icon > </nav> </header> <div class=franklin-content ><h1 id=fitting_yield_curves_to_rates ><a href="#fitting_yield_curves_to_rates" class=header-anchor >Fitting Yield Curves to rates</a></h1> <p>Given rates and maturities, we can fit the yield curves with different techniques in <a href="https://juliaactuary.org/packages/#yieldsjl">Yields.jl</a>.</p> <p>Below, we specify that the rates should be interpreted as <code>Continuous</code>ly compounded zero rates:</p> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> FinanceModels, FinanceCore

rates = Continuous.([<span class=hljs-number >0.01</span>, <span class=hljs-number >0.01</span>, <span class=hljs-number >0.03</span>, <span class=hljs-number >0.05</span>, <span class=hljs-number >0.07</span>, <span class=hljs-number >0.16</span>, <span class=hljs-number >0.35</span>, <span class=hljs-number >0.92</span>, <span class=hljs-number >1.40</span>, <span class=hljs-number >1.74</span>, <span class=hljs-number >2.31</span>, <span class=hljs-number >2.41</span>] ./ <span class=hljs-number >100</span>)
mats = [<span class=hljs-number >1</span>/<span class=hljs-number >12</span>, <span class=hljs-number >2</span>/<span class=hljs-number >12</span>, <span class=hljs-number >3</span>/<span class=hljs-number >12</span>, <span class=hljs-number >6</span>/<span class=hljs-number >12</span>, <span class=hljs-number >1</span>, <span class=hljs-number >2</span>, <span class=hljs-number >3</span>, <span class=hljs-number >5</span>, <span class=hljs-number >7</span>, <span class=hljs-number >10</span>, <span class=hljs-number >20</span>, <span class=hljs-number >30</span>]

quotes = ZCBYield.(rates,mats)</code></pre> <p>Then fit the rates under six methods:</p> <ul> <li><p>Nelson-Siegel</p> <li><p>Nelson-Siegel-Svensson</p> <li><p>Smith-Wilson</p> <li><p>Bootstrapping with linear splines</p> <li><p>Bootstrapping with quadratic splines</p> <li><p>Bootstrapping with cubic splines</p> </ul> <pre><code class="julia hljs">ns =  fit(Yield.NelsonSiegel(),              quotes)
nss = fit(Yield.NelsonSiegelSvensson(),      quotes)
nss = fit(Yield.SmithWilson(ufr=<span class=hljs-number >0.05</span>,Î±=<span class=hljs-number >0.1</span>), quotes)
bl =  fit(Spline.Linear(),                   quotes, Fit.Bootstrap())
bq =  fit(Spline.Quadratic(),                quotes, Fit.Bootstrap())
bc =  fit(Spline.Cubic(),                    quotes, Fit.Bootstrap())</code></pre> <p>That&#39;s it&#33; We&#39;ve used the FinanceModels.jl <code>fit</code> method to construct yield curves using four different techniques. These can now be used in a variety of ways, such as calculating the <code>present_value</code>, <code>duration</code>, or <code>convexity</code> of different cashflows if you imported <a href="https://github.com/JuliaActuary/ActuaryUtilities.jl">ActuaryUtilities.jl</a></p> <p>A visualization of the different curves:</p> <img src="/tutorials/_assets/yield-curve-fitting/anim_fps2.gif" /> <h2 id=associated_pluto_notebook ><a href="#associated_pluto_notebook" class=header-anchor >Associated Pluto Notebook</a></h2> <p>This example, complete with the code to plot/animate the curves is in the notebook below. To use Pluto to run the notebook:</p> <ol> <li><p>Open a Julia REPL and copy and paste the following:</p> </ol> <pre><code class="julia hljs"><span class=hljs-comment ># install these dependencies</span>
<span class=hljs-keyword >import</span> Pkg; Pkg.add(<span class=hljs-string >&quot;Pluto&quot;</span>) 

<span class=hljs-comment ># use and start Pluto</span>
<span class=hljs-keyword >using</span> Pluto; Pluto.run()</code></pre> <ol start=2 > <li><p>In the Pluto window that opens, enter this URL into the <code>Open from file:</code> box:</p> </ol> <pre><code class="julia hljs">https://raw.githubusercontent.com/JuliaActuary/Learn/master/Yield_Curve_fitting.jl</code></pre>
<div class=page-foot >
  The packages in JuliaActuary are open-source and liberally licensed (MIT License) to allow wide private and commercial
  usage of the packages, like the base Julia language and many other packages in the ecosystem. See <a href="/terms/" >terms of this site.</a>
  
  
  <div class=copyright >
    &copy; JuliaActuary Contributors. Last modified: November 04, 2023. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and <a href="https://julialang.org">Julia</a>.
  </div>
</div></div>
    
    
        


    
    <script data-goatcounter="https://juliaactuary.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>