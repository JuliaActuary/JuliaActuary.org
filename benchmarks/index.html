<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <meta name=Description  content="Practical, extensible, and open-source actuarial modeling and analysis."> <meta property="og:description" content="Practical, extensible, and open-source actuarial modeling and analysis."> <meta property="og:image" content="/assets/logo_square.svg"> <link rel=stylesheet  href="/libs/katex/katex.min.css"> <link rel=stylesheet  href="/libs/highlight/github.min.css"> <link rel=stylesheet  href="/css/franklin.css"> <link rel=stylesheet  href="/css/basic.css"> <link rel=icon  href="/assets/favicon.png"> <title>Benchmarks | JuliaActuary</title> <link rel=apple-touch-icon  sizes=180x180  href="/assets/apple-touch-icon.png"> <link rel=icon  type="image/png" sizes=32x32  href="/assets/favicon-32x32.png"> <link rel=icon  type="image/png" sizes=16x16  href="/assets/favicon-16x16.png"> <link rel=manifest  href="/assets/site.webmanifest"> <script src="https://cdn.jsdelivr.net/npm/swiffy-slider@1.2.0/dist/js/swiffy-slider.min.js" crossorigin=anonymous  defer></script> <link href="/css/slider.css" rel=stylesheet > <header> <div class=blog-name > <a href="/"> <div class=blog-name-logo-container > <div class=blog-name-logo > <img src="/assets/logo_square.svg" alt=logo  height=100px  width=100px  /> </div> <div>JuliaActuary</div> </div> </a> <div class=tagline >Practical, extensible, and open-source actuarial modeling and analysis. </div> </div> <nav> <ul> <li><a href="/">Home</a> <li><a href="/packages">Packages</a> <ul> <li><a href="/packages/#mortalitytablesjl">MortalityTables.jl</a> <li><a href="/packages/#actuaryutilitiesjl">ActuaryUtilities.jl</a> <li><a href="/packages/#lifecontingenciesjl">LifeContingencies.jl</a> <li><a href="/packages/#yieldsjl">Yields.jl</a> <li><a href="/packages/#experienceanalysisjl">ExperienceAnalysis.jl</a> </ul> <li><a href="/community">Community</a> <ul> <li><a href="/community/#learn">Learn</a> <li><a href="/community/#integration_with_r_and_python">Integration</a> <li><a href="/community/#contributing">Contributing</a> </ul> <li><a href="/#blog">Blog</a> </ul> <img src="/assets/hamburger.svg" id=menu-icon > </nav> </header> <div class=franklin-content ><h1 id=fill_title ><a href="#fill_title" class=header-anchor >Benchmarks</a></h1> <div class=franklin-toc ><ol><li><a href="#the_life_modeling_problem">The Life Modeling Problem</a><ol><li><a href="#benchmarks">Benchmarks</a><li><a href="#discussion">Discussion</a></ol><li><a href="#irrs">IRRs</a><ol><li><a href="#benchmarks__2">Benchmarks</a><li><a href="#discussion__2">Discussion</a></ol><li><a href="#black-scholes-merton_european_option_pricing">Black-Scholes-Merton European Option Pricing</a><ol><li><a href="#benchmarks__3">Benchmarks</a><li><a href="#discussion__3">Discussion</a></ol><li><a href="#other_benchmarks">Other benchmarks</a><li><a href="#colophone">Colophone</a><ol><li><a href="#code">Code</a><li><a href="#hardware">Hardware</a><li><a href="#software">Software</a><ol><li><a href="#julia">Julia</a><li><a href="#rust">Rust</a><li><a href="#python">Python</a><li><a href="#r">R</a></ol></ol><li><a href="#footnotes">Footnotes</a></ol></div> <h2 id=the_life_modeling_problem ><a href="#the_life_modeling_problem" class=header-anchor >The Life Modeling Problem</a></h2> <p>Inspired by the discussion in the <a href="https://github.com/actuarialopensource">ActuarialOpenSource</a> GitHub community discussion, folks started submitted solutions to what someone referred to as the &quot;Life Modeling Problem&quot;. This user <a href="https://github.com/orgs/actuarialopensource/teams/common-room/discussions/5">submitted a short snippet</a> for consideration of a representative problem.</p> <h3 id=benchmarks ><a href="#benchmarks" class=header-anchor >Benchmarks</a></h3> <p>After the original user submitted a proposal, others chimed in and submitted versions in their favorite languages. I have collected those versions, and run them on a consistent set of hardware.</p> <p>Some submissions were excluded because from the benchmarks they involved an entirely different approach, such as <a href="https://en.wikipedia.org/wiki/Memoization">memoizing</a> the function calls<sup id="fnref:1"><a href="#fndef:1" class=fnref >[1]</a></sup>.</p> <pre><code class="plaintext hljs">┌────────────────┬─────────────┬───────────────┬───────────────┬───────────────┬───────────────┐
│       Language │   Algorithm │ Function name │        Median │          Mean │ Relative Mean │
│                │             │               │ [nanoseconds] │ [nanoseconds] │               │
├────────────────┼─────────────┼───────────────┼───────────────┼───────────────┼───────────────┤
│ R (data.table) │  Vectorized │           npv │       770,554 │       842,767 │       132,199 │
│              R │  Vectorized │      npv base │         4,264 │        46,617 │         7,312 │
│              R │ Accumulator │      npv_loop │         4,346 │        62,276 │         9,769 │
│           Rust │ Accumulator │          npv1 │            22 │            22 │             3 │
│           Rust │ Accumulator │          npv2 │            14 │            14 │             2 │
│           Rust │ Accumulator │          npv3 │             7 │             7 │             1 │
│ Python (NumPy) │  Vectorized │           npv │       missing │        14,261 │         2,237 │
│         Python │ Accumulator │      npv_loop │       missing │         2,314 │           363 │
│ Python (Numba) │ Accumulator │     npv_numba │       missing │           626 │            98 │
│          Julia │  Vectorized │          npv1 │           235 │           228 │            36 │
│          Julia │  Vectorized │          npv2 │           236 │           218 │            34 │
│          Julia │ Accumulator │          npv3 │            15 │            14 │             2 │
│          Julia │ Accumulator │          npv4 │            11 │            11 │             2 │
│          Julia │ Accumulator │          npv5 │            11 │            11 │             2 │
│          Julia │ Accumulator │          npv6 │             9 │             9 │             1 │
│          Julia │ Accumulator │          npv7 │             8 │             8 │             1 │
│          Julia │ Accumulator │          npv8 │             7 │             7 │             1 │
│          Julia │ Accumulator │          npv9 │             6 │             6 │             1 │
└────────────────┴─────────────┴───────────────┴───────────────┴───────────────┴───────────────┘
</code></pre> <p>To aid in visualizing results with such vast different orders of magnitude, this graph includes a physical length comparison to serve as a reference. The computation time is represented by the distance that light travels in the time for the computation to complete &#40;comparing a nanosecond to one foot length <a href="https://www.youtube.com/watch?v&#61;9eyFDBPk4Yw">goes at least back to Admiral Grace Hopper</a>&#41;.</p> <img src="/assets/benchmarks/code/output/lmp_benchmarks.svg" alt=""> <h3 id=discussion ><a href="#discussion" class=header-anchor >Discussion</a></h3> <p>For more a more in-depth discussion of these results, see <a href="/blog/life-modeling-problem/">this post</a>.</p> <p>All of the benchmarked code can be found in the <a href="https://github.com/JuliaActuary/Learn/tree/master/Benchmarks/LifeModelingProblem">JuliaActuary Learn repository</a>. Please file an issue or submit a PR request there for issues/suggestions.</p> <h2 id=irrs ><a href="#irrs" class=header-anchor >IRRs</a></h2> <p><strong>Task:</strong> determine the IRR for a series of cashflows 701 elements long.</p> <h3 id=benchmarks__2 ><a href="#benchmarks__2" class=header-anchor >Benchmarks</a></h3> <pre><code class="plaintext hljs">Times are in nanoseconds:
┌──────────┬──────────────────┬───────────────────┬─────────┬─────────────┬───────────────┐
│ Language │          Package │          Function │  Median │        Mean │ Relative Mean │
├──────────┼──────────────────┼───────────────────┼─────────┼─────────────┼───────────────┤
│   Python │  numpy_financial │               irr │ missing │ 918376814.0 │       13350.1 │
│   Python │           better │ irr_binary_search │ missing │   3698785.0 │          53.8 │
│   Python │           better │        irr_newton │ missing │    557129.0 │           8.1 │
│    Julia │ ActuaryUtilities │               irr │ 69625.0 │     68792.0 │           1.0 │
└──────────┴──────────────────┴───────────────────┴─────────┴─────────────┴───────────────┘</code></pre> <h3 id=discussion__2 ><a href="#discussion__2" class=header-anchor >Discussion</a></h3> <p>Julia is 13,350 times faster than <code>numpy_financial</code>, and 54 times faster than the <code>better</code> Python package. The <a href="/#actuaryutilitiesjl">ActuaryUtililites.jl</a> implementation is also more flexible, as it can be given an argument with timepoints, similar to Excel&#39;s <code>XIRR</code>.</p> <p>Excel was used to attempt a benchmark, but the <code>IRR</code> formula returned a <code>#DIV/0&#33;</code> error.</p> <p>All of the benchmarked code can be found in the <a href="https://github.com/JuliaActuary/Learn/tree/master/Benchmarks/irr">JuliaActuary Learn repository</a>. Please file an issue or submit a PR request there for issues/suggestions.</p> <h2 id=black-scholes-merton_european_option_pricing ><a href="#black-scholes-merton_european_option_pricing" class=header-anchor >Black-Scholes-Merton European Option Pricing</a></h2> <p><strong>Task:</strong> calculate the price of a vanilla european call option using the Black-Scholes-Merton formula.</p> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable rowspacing=0.24999999999999992em  columnalign="right left" columnspacing=0em ><mtr><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mi>C</mi><mo stretchy=false >(</mo><msub><mi>S</mi><mi>t</mi></msub><mo separator=true >,</mo><mi>t</mi><mo stretchy=false >)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mrow></mrow><mo>=</mo><mi>N</mi><mo stretchy=false >(</mo><msub><mi>d</mi><mn>1</mn></msub><mo stretchy=false >)</mo><msub><mi>S</mi><mi>t</mi></msub><mo>−</mo><mi>N</mi><mo stretchy=false >(</mo><msub><mi>d</mi><mn>2</mn></msub><mo stretchy=false >)</mo><mi>K</mi><msup><mi>e</mi><mrow><mo>−</mo><mi>r</mi><mo stretchy=false >(</mo><mi>T</mi><mo>−</mo><mi>t</mi><mo stretchy=false >)</mo></mrow></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=0  displaystyle=true ><msub><mi>d</mi><mn>1</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mrow></mrow><mo>=</mo><mfrac><mn>1</mn><mrow><mi>σ</mi><msqrt><mrow><mi>T</mi><mo>−</mo><mi>t</mi></mrow></msqrt></mrow></mfrac><mrow><mo fence=true >[</mo><mi>ln</mi><mo>⁡</mo><mrow><mo fence=true >(</mo><mfrac><msub><mi>S</mi><mi>t</mi></msub><mi>K</mi></mfrac><mo fence=true >)</mo></mrow><mo>+</mo><mrow><mo fence=true >(</mo><mi>r</mi><mo>+</mo><mfrac><msup><mi>σ</mi><mn>2</mn></msup><mn>2</mn></mfrac><mo fence=true >)</mo></mrow><mo stretchy=false >(</mo><mi>T</mi><mo>−</mo><mi>t</mi><mo stretchy=false >)</mo><mo fence=true >]</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=0  displaystyle=true ><msub><mi>d</mi><mn>2</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mrow></mrow><mo>=</mo><msub><mi>d</mi><mn>1</mn></msub><mo>−</mo><mi>σ</mi><msqrt><mrow><mi>T</mi><mo>−</mo><mi>t</mi></mrow></msqrt></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned} C(S_t, t) &amp;= N(d_1)S_t - N(d_2)Ke^{-r(T - t)} \\ d_1 &amp;= \frac{1}{\sigma\sqrt{T - t}}\left[\ln\left(\frac{S_t}{K}\right) + \left(r + \frac{\sigma^2}{2}\right)(T - t)\right] \\ d_2 &amp;= d_1 - \sigma\sqrt{T - t} \end{aligned}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:5.933013000000001em;vertical-align:-2.7165065000000004em;"></span><span class=mord ><span class=mtable ><span class=col-align-r ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:3.2165065000000004em;"><span style="top:-5.769614500000001em;"><span class=pstrut  style="height:3.491108em;"></span><span class=mord ><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class=mopen >(</span><span class=mord ><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">t</span><span class=mclose >)</span></span></span><span style="top:-3.6185064999999996em;"><span class=pstrut  style="height:3.491108em;"></span><span class=mord ><span class=mord ><span class="mord mathdefault">d</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.4346014999999999em;"><span class=pstrut  style="height:3.491108em;"></span><span class=mord ><span class=mord ><span class="mord mathdefault">d</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:2.7165065000000004em;"><span></span></span></span></span></span><span class=col-align-l ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:3.2165065000000004em;"><span style="top:-5.769614500000001em;"><span class=pstrut  style="height:3.491108em;"></span><span class=mord ><span class=mord ></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class=mopen >(</span><span class=mord ><span class="mord mathdefault">d</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mclose >)</span><span class=mord ><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class=mopen >(</span><span class=mord ><span class="mord mathdefault">d</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mclose >)</span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class=mord ><span class="mord mathdefault">e</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span><span class="mopen mtight">(</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="mbin mtight">−</span><span class="mord mathdefault mtight">t</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.6185064999999996em;"><span class=pstrut  style="height:3.491108em;"></span><span class=mord ><span class=mord ></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.32144em;"><span style="top:-2.2249999999999996em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.885em;"><span class=svg-align  style="top:-3em;"><span class=pstrut  style="height:3em;"></span><span class=mord  style="padding-left:0.833em;"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">t</span></span></span><span style="top:-2.8449999999999998em;"><span class=pstrut  style="height:3em;"></span><span class=hide-tail  style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702 c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14 c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54 c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10 s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429 c69,-144,104.5,-217.7,106.5,-221 l0 -0 c5.3,-9.3,12,-14,20,-14 H400000v40H845.2724 s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7 c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z M834 80h400000v40h-400000z'/></svg></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15500000000000003em;"><span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord >1</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.93em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=minner ><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class=mop >ln</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=minner ><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.36033em;"><span style="top:-2.314em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class="mord mathdefault" style="margin-right:0.07153em;">K</span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord ><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=minner ><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.491108em;"><span style="top:-2.314em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord >2</span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord ><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mopen >(</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">t</span><span class=mclose >)</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span><span style="top:-1.4346014999999999em;"><span class=pstrut  style="height:3.491108em;"></span><span class=mord ><span class=mord ></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mord ><span class="mord mathdefault">d</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.933875em;"><span class=svg-align  style="top:-3em;"><span class=pstrut  style="height:3em;"></span><span class=mord  style="padding-left:0.833em;"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">t</span></span></span><span style="top:-2.893875em;"><span class=pstrut  style="height:3em;"></span><span class=hide-tail  style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702 c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14 c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54 c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10 s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429 c69,-144,104.5,-217.7,106.5,-221 l0 -0 c5.3,-9.3,12,-14,20,-14 H400000v40H845.2724 s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7 c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z M834 80h400000v40h-400000z'/></svg></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.10612500000000002em;"><span></span></span></span></span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:2.7165065000000004em;"><span></span></span></span></span></span></span></span></span></span></span></span> <h3 id=benchmarks__3 ><a href="#benchmarks__3" class=header-anchor >Benchmarks</a></h3> <pre><code class="plaintext hljs">Times are in nanoseconds:
┌──────────┬─────────┬─────────────┬───────────────┐
│ Language │  Median │        Mean │ Relative Mean │
├──────────┼─────────┼─────────────┼───────────────┤
│   Python │ missing │    817000.0 │       19926.0 │
│        R │  3649.0 │      3855.2 │          92.7 │
│    Julia │    41.0 │        41.6 │           1.0 │
└──────────┴─────────┴─────────────┴───────────────┘</code></pre> <h3 id=discussion__3 ><a href="#discussion__3" class=header-anchor >Discussion</a></h3> <p>Julia is nearly 20,000 times faster than Python, and two orders of magnitude faster than R.</p> <h2 id=other_benchmarks ><a href="#other_benchmarks" class=header-anchor >Other benchmarks</a></h2> <p>These benchmarks have been performed by others, but provide relevant information for actuarial-related work:</p> <ul> <li><p><a href="https://h2oai.github.io/db-benchmark/">H2Oai DataFrames/Database-like Operations</a></p> <li><p><a href="https://juliacomputing.com/blog/2020/06/fast-csv/">Reading CSVs</a></p> </ul> <h2 id=colophone ><a href="#colophone" class=header-anchor >Colophone</a></h2> <h3 id=code ><a href="#code" class=header-anchor >Code</a></h3> <p>All of the benchmarked code can be found in the <a href="https://github.com/JuliaActuary/Learn/tree/master/Benchmarks/">JuliaActuary Learn repository</a>. Please file an issue or submit a PR request there for issues/suggestions.</p> <h3 id=hardware ><a href="#hardware" class=header-anchor >Hardware</a></h3> <p>Macbook Air &#40;M1, 2020&#41;</p> <h3 id=software ><a href="#software" class=header-anchor >Software</a></h3> <p>All languages/libraries are Mac M1 native unless otherwise noted</p> <h4 id=julia ><a href="#julia" class=header-anchor >Julia</a></h4> <pre><code class="julia hljs">Julia Version <span class=hljs-number >1.7</span><span class=hljs-number >.0</span>-DEV<span class=hljs-number >.938</span>
Commit <span class=hljs-number >2</span>b4c088ee7* (<span class=hljs-number >2021</span>-<span class=hljs-number >04</span>-<span class=hljs-number >16</span> <span class=hljs-number >20</span>:<span class=hljs-number >37</span> UTC)
Platform Info:
  OS: macOS (arm64-apple-darwin20<span class=hljs-number >.3</span><span class=hljs-number >.0</span>)
  CPU: Apple M1
  WORD_SIZE: <span class=hljs-number >64</span>
  LIBM: libopenlibm
  LLVM: libLLVM-<span class=hljs-number >11.0</span><span class=hljs-number >.1</span> (ORCJIT, cyclone)</code></pre> <h4 id=rust ><a href="#rust" class=header-anchor >Rust</a></h4> <pre><code class="julia hljs"><span class=hljs-number >1.61</span><span class=hljs-number >.0</span>-nightly (f103b2969 <span class=hljs-number >2022</span>-<span class=hljs-number >03</span>-<span class=hljs-number >12</span>)</code></pre>
<h4 id=python ><a href="#python" class=header-anchor >Python</a></h4>
<pre><code class="julia hljs">Python <span class=hljs-number >3.9</span><span class=hljs-number >.7</span>

numba                     <span class=hljs-number >0.54</span><span class=hljs-number >.1</span>           py39hae1ba45_0
numpy                     <span class=hljs-number >1.20</span><span class=hljs-number >.3</span>           py39h4b4dc7a_0</code></pre>
<h4 id=r ><a href="#r" class=header-anchor >R</a></h4>
<pre><code class="julia hljs">R Under development (unstable) (<span class=hljs-number >2021</span>-<span class=hljs-number >04</span>-<span class=hljs-number >16</span> r80179) -- <span class=hljs-string >&quot;Unsuffered Consequences&quot;</span>
Copyright (C) <span class=hljs-number >2021</span> The R Foundation <span class=hljs-keyword >for</span> Statistical Computing
Platform: aarch64-apple-darwin20<span class=hljs-number >.0</span> (<span class=hljs-number >64</span>-bit)</code></pre>
<h2 id=footnotes ><a href="#footnotes" class=header-anchor >Footnotes</a></h2>
<p><sup id="fnref:1"><a href="#fndef:1" class=fnref >[1]</a></sup> If benchmarking memoiziation, it&#39;s essentially benchmarking how long it takes to perform hashing in a language. While interesting, especially in the context of <a href="https://scattered-thoughts.net/writing/an-opinionated-map-of-incremental-and-streaming-systems">incremental computing</a>, it&#39;s not the core issue at hand. Incremental computing libraries exist for all of the modern languages discussed here.</p>
<p><sup id="fnref:2"><a href="#fndef:2" class=fnref >[2]</a></sup> Note that not all languages have both a mean and median result in their benchmarking libraries. Mean is a better representation for a garbage-collected modern language, because sometimes the computation just takes longer than the median result. Where the mean is not available in the graph below, median is substituted.</p>
<div class=page-foot >
  The packages in JuliaActuary are open-source and liberally licensed (MIT License) to allow wide private and commercial
  usage of the packages, like the base Julia language and many other packages in the ecosystem.
  
  
  <div class=copyright >
    &copy; Misc. Last modified: June 19, 2022. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and <a href="https://julialang.org">Julia</a>.
  </div>
</div></div>
    
        



    
    
        


    
    <script data-goatcounter="https://juliaactuary.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>