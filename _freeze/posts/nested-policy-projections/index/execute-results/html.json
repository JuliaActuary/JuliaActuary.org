{
  "hash": "68fb6c5689ada09e6dc22d5ec1524b7e",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Nested Projection Mechanics\"\ncategories: [modeling,benchmark, actuaryutilities, tutorial]\n---\n\n\n\nA simple example of how one could define a nested projection system. Includes the following examples:\n- Outer loop policy projections only\n- Outer + Inner loop policy projections with padded cashflows determining reserves and capital\n- Outer + Inner loop with a stochastic interest rate for the reserves\n\nIn this notebook, we define a term life policy, implement the mechanics for \"outer\" projected values, as well as \"inner\" projections so that we can determine a projection-based reserve. This is done with both a deterministic and stochastic \"inner\" loop.\n\n::: {#8a3c4d14 .cell execution_count=2}\n``` {.julia .cell-code}\nusing ActuaryUtilities\nusing DataFrames\nusing Setfield\n```\n:::\n\n\n## Policy Data & Methods\n\nWe will use a simple Term policy as an example for the mechanics. We don't need to, but to illustrate that we could easily implement different product types, we first define an `abstract type` for `Policy`s, and then the specific `Term` implementation.\n\nThe type annotations aren't strictly necessary, but knowing the types in advance helps Julia specialize the code for it.\n\n::: {#9350db5c .cell execution_count=3}\n``` {.julia .cell-code}\nabstract type Policy end\n\nstruct Term <: Policy\n    inforce::Float64 # count of inforce\n    term::Int        # length of benefit period (in months)\n    premium::Float64\n    face::Float64\nend\n```\n:::\n\n\nFor consistency across different calculated amounts, we will keep the function signature consistent, even if not all of the arguments are used:\n\n```\n(policy,assumptions,time) -> result\n```\n\n::: {#92169c3a .cell execution_count=4}\n``` {.julia .cell-code}\npremiums(pol::Term, assumptions, time) = pol.inforce * pol.premium / 12\n\nqx(pol::Term, assumptions, time) = assumptions.q / 12\n\ndeaths(pol::Term, assumptions, time) = pol.inforce * qx(pol, assumptions, time)\n\nclaims(pol::Term, assumptions, time) = deaths(pol, assumptions, time) * pol.face\n```\n\n::: {.cell-output .cell-output-display execution_count=5}\n```\nclaims (generic function with 1 method)\n```\n:::\n:::\n\n\n## Projection Assumptions\n\nWe define some global assumptions that get passed around. It's good practice (and performant) to pass variables into functions instead of just referring to global variable values.\n\n::: {#04dd14ea .cell execution_count=5}\n``` {.julia .cell-code}\nassumptions = (\n    q=0.012,\n    int_reserve=0.02,\n    capital_factor=0.1, # rate * reserves\n)\n```\n\n::: {.cell-output .cell-output-display execution_count=6}\n```\n(q = 0.012, int_reserve = 0.02, capital_factor = 0.1)\n```\n:::\n:::\n\n\n### Inner-loop assumption\n\nIn this example, we're assuming just a PADed mortality rate for the inner loop. We take the assumption set and use `Setfield.@set` to return a new immutable named tuple with just that value modified:\n\n::: {#462d9aab .cell execution_count=6}\n``` {.julia .cell-code}\ninnerloop_assumption(outer_assump) = @set outer_assump.q *= 1.2\n```\n\n::: {.cell-output .cell-output-display execution_count=7}\n```\ninnerloop_assumption (generic function with 1 method)\n```\n:::\n:::\n\n\n## Projection Logic\n\nThe architecture takes inspiration from web server architecture where data is passed through multiple processing steps before being returned. The logic is contained within a function called `project`, which:\n\n1. Project a single timestep and create a tuple of values: `(policy, assumptions, result)`\n2. Apply the function `additional_processing` which takes as an argument `(policy, assumptions, result)`.\n3. `additional_processing` can then define an \"inner\" loop, which could just be to apply the `project` with a modified set of assumptions. In this way, one or more \"inner\" loops can be defined.\n4. The final `additional_processing` function should return whatever you want to return as a result.\n\nBy default, the `additional_processing` will simply return the last argument, `result` and therefore will not have any inner loops.\n\n::: {#89a3899a .cell execution_count=7}\n``` {.julia .cell-code}\n\"\"\"\n\tproject(policy,assumptions;start_time=1,additional_processing=res)\n\nThe kwarg `additional_processing` defines an intermediate processing step where one can take the current model state and perform additional work, including nested projections. If left out of the arguments, the default for `additional_processing` is `res`, where `res` is (pol,assumptions, result)->result (ie will just return the model point's results with no additional work being done).\n\n\"\"\"\nfunction project(\n    pol::Term,\n    assumptions;\n    start_time=1,\n    additional_processing=(pol, assumptions, result) -> result\n)\n\n    # alias the assumptions to A for brevity\n    A = assumptions\n\n\n    # iterate over the policy from the start time to the end of the policy's term\n    map(start_time:pol.term) do t\n        # calculate components of the projection\n        timestep = t\n        premium = premiums(pol, A, t)\n        q = qx(pol, A, t)\n        death = deaths(pol, A, t)\n        claim = claims(pol, A, t)\n        net_cf = premium - claim\n        inforce = pol.inforce - death\n        pol = @set pol.inforce = inforce\n\n        # return a vector of name tuples with the results\n        result = (;\n            timestep,\n            premium,\n            death,\n            claim,\n            net_cf,\n            inforce,\n            q,\n        )\n\n        # apply additional processing function \n        additional_processing(pol, A, result)\n    end\nend\n```\n\n::: {.cell-output .cell-output-display execution_count=8}\n```\nproject\n```\n:::\n:::\n\n\n::: {#b53f25c7 .cell execution_count=8}\n``` {.julia .cell-code}\n# Function signature: (policy, assumptions, result) -> updated result\nfunction run_inner(policy, assumptions, result)\n    additional_results = if result.timestep + 1 <= policy.term\n        A = innerloop_assumption(assumptions)\n        p = project(policy, A; start_time=result.timestep + 1)\n\n        # calculate the reserves as the present value of the \n        # cashflows within the inner loop projections\n        # discounted at the reserve interest rate\n        reserves = -pv(A.int_reserve, [modelpoint.net_cf for modelpoint in p])\n        capital = reserves * A.capital_factor\n        (; reserves, capital)\n    else\n        reserves = 0.0\n        capital = 0.0\n        (; reserves, capital)\n\n    end\n\n    return merge(result, additional_results)\n\nend\n```\n\n::: {.cell-output .cell-output-display execution_count=9}\n```\nrun_inner (generic function with 1 method)\n```\n:::\n:::\n\n\nAnd a stochastic version:\n\n::: {#ff0ca565 .cell execution_count=9}\n``` {.julia .cell-code}\n# Function signature: (policy, assumptions, result) -> updated result\nfunction run_inner_stochastic(policy, assumptions, result)\n    additional_results = if result.timestep + 1 <= policy.term\n        A = innerloop_assumption(assumptions)\n        p = project(policy, A; start_time=result.timestep + 1)\n\n        # simple stochastic interest rate \n        n = 100\n\n        reserves = let\n            i = A.int_reserve\n            f = pv(i + 0.005 * randn(), [modelpoint.net_cf for modelpoint in p])\n\n            -sum(f for _ in 1:n) / n\n\n        end\n        capital = reserves * A.capital_factor\n        (; reserves, capital)\n    else\n        reserves = 0.0\n        capital = 0.0\n        (; reserves, capital)\n    end\n    return merge(result, additional_results)\n\nend\n```\n\n::: {.cell-output .cell-output-display execution_count=10}\n```\nrun_inner_stochastic (generic function with 1 method)\n```\n:::\n:::\n\n\n## Projections\n\nFirst, define a sample policy:\n\n::: {#fe693ff2 .cell execution_count=10}\n``` {.julia .cell-code}\np = Term(1.0, 120, 1300.0, 100_000.0)\n```\n\n::: {.cell-output .cell-output-display execution_count=11}\n```\nTerm(1.0, 120, 1300.0, 100000.0)\n```\n:::\n:::\n\n\nA projection without any additional processing:\n\n::: {#2923ac6d .cell execution_count=11}\n``` {.julia .cell-code}\nproject(p, assumptions) |> DataFrame\n```\n\n::: {.cell-output .cell-output-display execution_count=12}\n```{=html}\n<div><div style = \"float: left;\"><span>120Ã—7 DataFrame</span></div><div style = \"float: right;\"><span style = \"font-style: italic;\">95 rows omitted</span></div><div style = \"clear: both;\"></div></div><div class = \"data-frame\" style = \"overflow-x: scroll;\"><table class = \"data-frame\" style = \"margin-bottom: 6px;\"><thead><tr class = \"header\"><th class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">Row</th><th style = \"text-align: left;\">timestep</th><th style = \"text-align: left;\">premium</th><th style = \"text-align: left;\">death</th><th style = \"text-align: left;\">claim</th><th style = \"text-align: left;\">net_cf</th><th style = \"text-align: left;\">inforce</th><th style = \"text-align: left;\">q</th></tr><tr class = \"subheader headerLastRow\"><th class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\"></th><th title = \"Int64\" style = \"text-align: left;\">Int64</th><th title = \"Float64\" style = \"text-align: left;\">Float64</th><th title = \"Float64\" style = \"text-align: left;\">Float64</th><th title = \"Float64\" style = \"text-align: left;\">Float64</th><th title = \"Float64\" style = \"text-align: left;\">Float64</th><th title = \"Float64\" style = \"text-align: left;\">Float64</th><th title = \"Float64\" style = \"text-align: left;\">Float64</th></tr></thead><tbody><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">1</td><td style = \"text-align: right;\">1</td><td style = \"text-align: right;\">108.333</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">100.0</td><td style = \"text-align: right;\">8.33333</td><td style = \"text-align: right;\">0.999</td><td style = \"text-align: right;\">0.001</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">2</td><td style = \"text-align: right;\">2</td><td style = \"text-align: right;\">108.225</td><td style = \"text-align: right;\">0.000999</td><td style = \"text-align: right;\">99.9</td><td style = \"text-align: right;\">8.325</td><td style = \"text-align: right;\">0.998001</td><td style = \"text-align: right;\">0.001</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">3</td><td style = \"text-align: right;\">3</td><td style = \"text-align: right;\">108.117</td><td style = \"text-align: right;\">0.000998001</td><td style = \"text-align: right;\">99.8001</td><td style = \"text-align: right;\">8.31667</td><td style = \"text-align: right;\">0.997003</td><td style = \"text-align: right;\">0.001</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">4</td><td style = \"text-align: right;\">4</td><td style = \"text-align: right;\">108.009</td><td style = \"text-align: right;\">0.000997003</td><td style = \"text-align: right;\">99.7003</td><td style = \"text-align: right;\">8.30836</td><td style = \"text-align: right;\">0.996006</td><td style = \"text-align: right;\">0.001</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">5</td><td style = \"text-align: right;\">5</td><td style = \"text-align: right;\">107.901</td><td style = \"text-align: right;\">0.000996006</td><td style = \"text-align: right;\">99.6006</td><td style = \"text-align: right;\">8.30005</td><td style = \"text-align: right;\">0.99501</td><td style = \"text-align: right;\">0.001</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">6</td><td style = \"text-align: right;\">6</td><td style = \"text-align: right;\">107.793</td><td style = \"text-align: right;\">0.00099501</td><td style = \"text-align: right;\">99.501</td><td style = \"text-align: right;\">8.29175</td><td style = \"text-align: right;\">0.994015</td><td style = \"text-align: right;\">0.001</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">7</td><td style = \"text-align: right;\">7</td><td style = \"text-align: right;\">107.685</td><td style = \"text-align: right;\">0.000994015</td><td style = \"text-align: right;\">99.4015</td><td style = \"text-align: right;\">8.28346</td><td style = \"text-align: right;\">0.993021</td><td style = \"text-align: right;\">0.001</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">8</td><td style = \"text-align: right;\">8</td><td style = \"text-align: right;\">107.577</td><td style = \"text-align: right;\">0.000993021</td><td style = \"text-align: right;\">99.3021</td><td style = \"text-align: right;\">8.27517</td><td style = \"text-align: right;\">0.992028</td><td style = \"text-align: right;\">0.001</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">9</td><td style = \"text-align: right;\">9</td><td style = \"text-align: right;\">107.47</td><td style = \"text-align: right;\">0.000992028</td><td style = \"text-align: right;\">99.2028</td><td style = \"text-align: right;\">8.2669</td><td style = \"text-align: right;\">0.991036</td><td style = \"text-align: right;\">0.001</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">10</td><td style = \"text-align: right;\">10</td><td style = \"text-align: right;\">107.362</td><td style = \"text-align: right;\">0.000991036</td><td style = \"text-align: right;\">99.1036</td><td style = \"text-align: right;\">8.25863</td><td style = \"text-align: right;\">0.990045</td><td style = \"text-align: right;\">0.001</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">11</td><td style = \"text-align: right;\">11</td><td style = \"text-align: right;\">107.255</td><td style = \"text-align: right;\">0.000990045</td><td style = \"text-align: right;\">99.0045</td><td style = \"text-align: right;\">8.25037</td><td style = \"text-align: right;\">0.989055</td><td style = \"text-align: right;\">0.001</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">12</td><td style = \"text-align: right;\">12</td><td style = \"text-align: right;\">107.148</td><td style = \"text-align: right;\">0.000989055</td><td style = \"text-align: right;\">98.9055</td><td style = \"text-align: right;\">8.24212</td><td style = \"text-align: right;\">0.988066</td><td style = \"text-align: right;\">0.001</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">13</td><td style = \"text-align: right;\">13</td><td style = \"text-align: right;\">107.04</td><td style = \"text-align: right;\">0.000988066</td><td style = \"text-align: right;\">98.8066</td><td style = \"text-align: right;\">8.23388</td><td style = \"text-align: right;\">0.987078</td><td style = \"text-align: right;\">0.001</td></tr><tr><td style = \"text-align: right;\">&vellip;</td><td style = \"text-align: right;\">&vellip;</td><td style = \"text-align: right;\">&vellip;</td><td style = \"text-align: right;\">&vellip;</td><td style = \"text-align: right;\">&vellip;</td><td style = \"text-align: right;\">&vellip;</td><td style = \"text-align: right;\">&vellip;</td><td style = \"text-align: right;\">&vellip;</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">109</td><td style = \"text-align: right;\">109</td><td style = \"text-align: right;\">97.2377</td><td style = \"text-align: right;\">0.000897579</td><td style = \"text-align: right;\">89.7579</td><td style = \"text-align: right;\">7.47983</td><td style = \"text-align: right;\">0.896682</td><td style = \"text-align: right;\">0.001</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">110</td><td style = \"text-align: right;\">110</td><td style = \"text-align: right;\">97.1405</td><td style = \"text-align: right;\">0.000896682</td><td style = \"text-align: right;\">89.6682</td><td style = \"text-align: right;\">7.47235</td><td style = \"text-align: right;\">0.895785</td><td style = \"text-align: right;\">0.001</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">111</td><td style = \"text-align: right;\">111</td><td style = \"text-align: right;\">97.0434</td><td style = \"text-align: right;\">0.000895785</td><td style = \"text-align: right;\">89.5785</td><td style = \"text-align: right;\">7.46487</td><td style = \"text-align: right;\">0.894889</td><td style = \"text-align: right;\">0.001</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">112</td><td style = \"text-align: right;\">112</td><td style = \"text-align: right;\">96.9463</td><td style = \"text-align: right;\">0.000894889</td><td style = \"text-align: right;\">89.4889</td><td style = \"text-align: right;\">7.45741</td><td style = \"text-align: right;\">0.893994</td><td style = \"text-align: right;\">0.001</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">113</td><td style = \"text-align: right;\">113</td><td style = \"text-align: right;\">96.8494</td><td style = \"text-align: right;\">0.000893994</td><td style = \"text-align: right;\">89.3994</td><td style = \"text-align: right;\">7.44995</td><td style = \"text-align: right;\">0.8931</td><td style = \"text-align: right;\">0.001</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">114</td><td style = \"text-align: right;\">114</td><td style = \"text-align: right;\">96.7525</td><td style = \"text-align: right;\">0.0008931</td><td style = \"text-align: right;\">89.31</td><td style = \"text-align: right;\">7.4425</td><td style = \"text-align: right;\">0.892207</td><td style = \"text-align: right;\">0.001</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">115</td><td style = \"text-align: right;\">115</td><td style = \"text-align: right;\">96.6558</td><td style = \"text-align: right;\">0.000892207</td><td style = \"text-align: right;\">89.2207</td><td style = \"text-align: right;\">7.43506</td><td style = \"text-align: right;\">0.891315</td><td style = \"text-align: right;\">0.001</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">116</td><td style = \"text-align: right;\">116</td><td style = \"text-align: right;\">96.5591</td><td style = \"text-align: right;\">0.000891315</td><td style = \"text-align: right;\">89.1315</td><td style = \"text-align: right;\">7.42762</td><td style = \"text-align: right;\">0.890424</td><td style = \"text-align: right;\">0.001</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">117</td><td style = \"text-align: right;\">117</td><td style = \"text-align: right;\">96.4626</td><td style = \"text-align: right;\">0.000890424</td><td style = \"text-align: right;\">89.0424</td><td style = \"text-align: right;\">7.4202</td><td style = \"text-align: right;\">0.889533</td><td style = \"text-align: right;\">0.001</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">118</td><td style = \"text-align: right;\">118</td><td style = \"text-align: right;\">96.3661</td><td style = \"text-align: right;\">0.000889533</td><td style = \"text-align: right;\">88.9533</td><td style = \"text-align: right;\">7.41278</td><td style = \"text-align: right;\">0.888644</td><td style = \"text-align: right;\">0.001</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">119</td><td style = \"text-align: right;\">119</td><td style = \"text-align: right;\">96.2697</td><td style = \"text-align: right;\">0.000888644</td><td style = \"text-align: right;\">88.8644</td><td style = \"text-align: right;\">7.40536</td><td style = \"text-align: right;\">0.887755</td><td style = \"text-align: right;\">0.001</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">120</td><td style = \"text-align: right;\">120</td><td style = \"text-align: right;\">96.1735</td><td style = \"text-align: right;\">0.000887755</td><td style = \"text-align: right;\">88.7755</td><td style = \"text-align: right;\">7.39796</td><td style = \"text-align: right;\">0.886867</td><td style = \"text-align: right;\">0.001</td></tr></tbody></table></div>\n```\n:::\n:::\n\n\nAnd an example which uses a PADed inner loop to determine the resserves and capital:\n\n::: {#8e39ec7c .cell execution_count=12}\n``` {.julia .cell-code}\nproject(p, assumptions; additional_processing=run_inner) |> DataFrame\n```\n\n::: {.cell-output .cell-output-display execution_count=13}\n```{=html}\n<div><div style = \"float: left;\"><span>120Ã—9 DataFrame</span></div><div style = \"float: right;\"><span style = \"font-style: italic;\">95 rows omitted</span></div><div style = \"clear: both;\"></div></div><div class = \"data-frame\" style = \"overflow-x: scroll;\"><table class = \"data-frame\" style = \"margin-bottom: 6px;\"><thead><tr class = \"header\"><th class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">Row</th><th style = \"text-align: left;\">timestep</th><th style = \"text-align: left;\">premium</th><th style = \"text-align: left;\">death</th><th style = \"text-align: left;\">claim</th><th style = \"text-align: left;\">net_cf</th><th style = \"text-align: left;\">inforce</th><th style = \"text-align: left;\">q</th><th style = \"text-align: left;\">reserves</th><th style = \"text-align: left;\">capital</th></tr><tr class = \"subheader headerLastRow\"><th class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\"></th><th title = \"Int64\" style = \"text-align: left;\">Int64</th><th title = \"Float64\" style = \"text-align: left;\">Float64</th><th title = \"Float64\" style = \"text-align: left;\">Float64</th><th title = \"Float64\" style = \"text-align: left;\">Float64</th><th title = \"Float64\" style = \"text-align: left;\">Float64</th><th title = \"Float64\" style = \"text-align: left;\">Float64</th><th title = \"Float64\" style = \"text-align: left;\">Float64</th><th title = \"Float64\" style = \"text-align: left;\">Float64</th><th title = \"Float64\" style = \"text-align: left;\">Float64</th></tr></thead><tbody><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">1</td><td style = \"text-align: right;\">1</td><td style = \"text-align: right;\">108.333</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">100.0</td><td style = \"text-align: right;\">8.33333</td><td style = \"text-align: right;\">0.999</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">504.61</td><td style = \"text-align: right;\">50.461</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">2</td><td style = \"text-align: right;\">2</td><td style = \"text-align: right;\">108.225</td><td style = \"text-align: right;\">0.000999</td><td style = \"text-align: right;\">99.9</td><td style = \"text-align: right;\">8.325</td><td style = \"text-align: right;\">0.998001</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">503.148</td><td style = \"text-align: right;\">50.3148</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">3</td><td style = \"text-align: right;\">3</td><td style = \"text-align: right;\">108.117</td><td style = \"text-align: right;\">0.000998001</td><td style = \"text-align: right;\">99.8001</td><td style = \"text-align: right;\">8.31667</td><td style = \"text-align: right;\">0.997003</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">501.668</td><td style = \"text-align: right;\">50.1668</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">4</td><td style = \"text-align: right;\">4</td><td style = \"text-align: right;\">108.009</td><td style = \"text-align: right;\">0.000997003</td><td style = \"text-align: right;\">99.7003</td><td style = \"text-align: right;\">8.30836</td><td style = \"text-align: right;\">0.996006</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">500.169</td><td style = \"text-align: right;\">50.0169</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">5</td><td style = \"text-align: right;\">5</td><td style = \"text-align: right;\">107.901</td><td style = \"text-align: right;\">0.000996006</td><td style = \"text-align: right;\">99.6006</td><td style = \"text-align: right;\">8.30005</td><td style = \"text-align: right;\">0.99501</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">498.652</td><td style = \"text-align: right;\">49.8652</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">6</td><td style = \"text-align: right;\">6</td><td style = \"text-align: right;\">107.793</td><td style = \"text-align: right;\">0.00099501</td><td style = \"text-align: right;\">99.501</td><td style = \"text-align: right;\">8.29175</td><td style = \"text-align: right;\">0.994015</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">497.117</td><td style = \"text-align: right;\">49.7117</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">7</td><td style = \"text-align: right;\">7</td><td style = \"text-align: right;\">107.685</td><td style = \"text-align: right;\">0.000994015</td><td style = \"text-align: right;\">99.4015</td><td style = \"text-align: right;\">8.28346</td><td style = \"text-align: right;\">0.993021</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">495.561</td><td style = \"text-align: right;\">49.5561</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">8</td><td style = \"text-align: right;\">8</td><td style = \"text-align: right;\">107.577</td><td style = \"text-align: right;\">0.000993021</td><td style = \"text-align: right;\">99.3021</td><td style = \"text-align: right;\">8.27517</td><td style = \"text-align: right;\">0.992028</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">493.986</td><td style = \"text-align: right;\">49.3986</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">9</td><td style = \"text-align: right;\">9</td><td style = \"text-align: right;\">107.47</td><td style = \"text-align: right;\">0.000992028</td><td style = \"text-align: right;\">99.2028</td><td style = \"text-align: right;\">8.2669</td><td style = \"text-align: right;\">0.991036</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">492.391</td><td style = \"text-align: right;\">49.2391</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">10</td><td style = \"text-align: right;\">10</td><td style = \"text-align: right;\">107.362</td><td style = \"text-align: right;\">0.000991036</td><td style = \"text-align: right;\">99.1036</td><td style = \"text-align: right;\">8.25863</td><td style = \"text-align: right;\">0.990045</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">490.775</td><td style = \"text-align: right;\">49.0775</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">11</td><td style = \"text-align: right;\">11</td><td style = \"text-align: right;\">107.255</td><td style = \"text-align: right;\">0.000990045</td><td style = \"text-align: right;\">99.0045</td><td style = \"text-align: right;\">8.25037</td><td style = \"text-align: right;\">0.989055</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">489.138</td><td style = \"text-align: right;\">48.9138</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">12</td><td style = \"text-align: right;\">12</td><td style = \"text-align: right;\">107.148</td><td style = \"text-align: right;\">0.000989055</td><td style = \"text-align: right;\">98.9055</td><td style = \"text-align: right;\">8.24212</td><td style = \"text-align: right;\">0.988066</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">487.479</td><td style = \"text-align: right;\">48.7479</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">13</td><td style = \"text-align: right;\">13</td><td style = \"text-align: right;\">107.04</td><td style = \"text-align: right;\">0.000988066</td><td style = \"text-align: right;\">98.8066</td><td style = \"text-align: right;\">8.23388</td><td style = \"text-align: right;\">0.987078</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">485.799</td><td style = \"text-align: right;\">48.5799</td></tr><tr><td style = \"text-align: right;\">&vellip;</td><td style = \"text-align: right;\">&vellip;</td><td style = \"text-align: right;\">&vellip;</td><td style = \"text-align: right;\">&vellip;</td><td style = \"text-align: right;\">&vellip;</td><td style = \"text-align: right;\">&vellip;</td><td style = \"text-align: right;\">&vellip;</td><td style = \"text-align: right;\">&vellip;</td><td style = \"text-align: right;\">&vellip;</td><td style = \"text-align: right;\">&vellip;</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">109</td><td style = \"text-align: right;\">109</td><td style = \"text-align: right;\">97.2377</td><td style = \"text-align: right;\">0.000897579</td><td style = \"text-align: right;\">89.7579</td><td style = \"text-align: right;\">7.47983</td><td style = \"text-align: right;\">0.896682</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">101.795</td><td style = \"text-align: right;\">10.1795</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">110</td><td style = \"text-align: right;\">110</td><td style = \"text-align: right;\">97.1405</td><td style = \"text-align: right;\">0.000896682</td><td style = \"text-align: right;\">89.6682</td><td style = \"text-align: right;\">7.47235</td><td style = \"text-align: right;\">0.895785</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">93.3884</td><td style = \"text-align: right;\">9.33884</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">111</td><td style = \"text-align: right;\">111</td><td style = \"text-align: right;\">97.0434</td><td style = \"text-align: right;\">0.000895785</td><td style = \"text-align: right;\">89.5785</td><td style = \"text-align: right;\">7.46487</td><td style = \"text-align: right;\">0.894889</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">84.8223</td><td style = \"text-align: right;\">8.48223</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">112</td><td style = \"text-align: right;\">112</td><td style = \"text-align: right;\">96.9463</td><td style = \"text-align: right;\">0.000894889</td><td style = \"text-align: right;\">89.4889</td><td style = \"text-align: right;\">7.45741</td><td style = \"text-align: right;\">0.893994</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">76.0936</td><td style = \"text-align: right;\">7.60936</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">113</td><td style = \"text-align: right;\">113</td><td style = \"text-align: right;\">96.8494</td><td style = \"text-align: right;\">0.000893994</td><td style = \"text-align: right;\">89.3994</td><td style = \"text-align: right;\">7.44995</td><td style = \"text-align: right;\">0.8931</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">67.199</td><td style = \"text-align: right;\">6.7199</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">114</td><td style = \"text-align: right;\">114</td><td style = \"text-align: right;\">96.7525</td><td style = \"text-align: right;\">0.0008931</td><td style = \"text-align: right;\">89.31</td><td style = \"text-align: right;\">7.4425</td><td style = \"text-align: right;\">0.892207</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">58.1351</td><td style = \"text-align: right;\">5.81351</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">115</td><td style = \"text-align: right;\">115</td><td style = \"text-align: right;\">96.6558</td><td style = \"text-align: right;\">0.000892207</td><td style = \"text-align: right;\">89.2207</td><td style = \"text-align: right;\">7.43506</td><td style = \"text-align: right;\">0.891315</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">48.8986</td><td style = \"text-align: right;\">4.88986</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">116</td><td style = \"text-align: right;\">116</td><td style = \"text-align: right;\">96.5591</td><td style = \"text-align: right;\">0.000891315</td><td style = \"text-align: right;\">89.1315</td><td style = \"text-align: right;\">7.42762</td><td style = \"text-align: right;\">0.890424</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">39.4858</td><td style = \"text-align: right;\">3.94858</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">117</td><td style = \"text-align: right;\">117</td><td style = \"text-align: right;\">96.4626</td><td style = \"text-align: right;\">0.000890424</td><td style = \"text-align: right;\">89.0424</td><td style = \"text-align: right;\">7.4202</td><td style = \"text-align: right;\">0.889533</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">29.8932</td><td style = \"text-align: right;\">2.98932</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">118</td><td style = \"text-align: right;\">118</td><td style = \"text-align: right;\">96.3661</td><td style = \"text-align: right;\">0.000889533</td><td style = \"text-align: right;\">88.9533</td><td style = \"text-align: right;\">7.41278</td><td style = \"text-align: right;\">0.888644</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">20.1172</td><td style = \"text-align: right;\">2.01172</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">119</td><td style = \"text-align: right;\">119</td><td style = \"text-align: right;\">96.2697</td><td style = \"text-align: right;\">0.000888644</td><td style = \"text-align: right;\">88.8644</td><td style = \"text-align: right;\">7.40536</td><td style = \"text-align: right;\">0.887755</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">10.1541</td><td style = \"text-align: right;\">1.01541</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">120</td><td style = \"text-align: right;\">120</td><td style = \"text-align: right;\">96.1735</td><td style = \"text-align: right;\">0.000887755</td><td style = \"text-align: right;\">88.7755</td><td style = \"text-align: right;\">7.39796</td><td style = \"text-align: right;\">0.886867</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">0.0</td><td style = \"text-align: right;\">0.0</td></tr></tbody></table></div>\n```\n:::\n:::\n\n\nAnd a stochastic example:\n\n::: {#40e4f4d9 .cell execution_count=13}\n``` {.julia .cell-code}\nproject(p, assumptions; additional_processing=run_inner_stochastic) |> DataFrame\n```\n\n::: {.cell-output .cell-output-display execution_count=14}\n```{=html}\n<div><div style = \"float: left;\"><span>120Ã—9 DataFrame</span></div><div style = \"float: right;\"><span style = \"font-style: italic;\">95 rows omitted</span></div><div style = \"clear: both;\"></div></div><div class = \"data-frame\" style = \"overflow-x: scroll;\"><table class = \"data-frame\" style = \"margin-bottom: 6px;\"><thead><tr class = \"header\"><th class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">Row</th><th style = \"text-align: left;\">timestep</th><th style = \"text-align: left;\">premium</th><th style = \"text-align: left;\">death</th><th style = \"text-align: left;\">claim</th><th style = \"text-align: left;\">net_cf</th><th style = \"text-align: left;\">inforce</th><th style = \"text-align: left;\">q</th><th style = \"text-align: left;\">reserves</th><th style = \"text-align: left;\">capital</th></tr><tr class = \"subheader headerLastRow\"><th class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\"></th><th title = \"Int64\" style = \"text-align: left;\">Int64</th><th title = \"Float64\" style = \"text-align: left;\">Float64</th><th title = \"Float64\" style = \"text-align: left;\">Float64</th><th title = \"Float64\" style = \"text-align: left;\">Float64</th><th title = \"Float64\" style = \"text-align: left;\">Float64</th><th title = \"Float64\" style = \"text-align: left;\">Float64</th><th title = \"Float64\" style = \"text-align: left;\">Float64</th><th title = \"Float64\" style = \"text-align: left;\">Float64</th><th title = \"Float64\" style = \"text-align: left;\">Float64</th></tr></thead><tbody><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">1</td><td style = \"text-align: right;\">1</td><td style = \"text-align: right;\">108.333</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">100.0</td><td style = \"text-align: right;\">8.33333</td><td style = \"text-align: right;\">0.999</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">495.008</td><td style = \"text-align: right;\">49.5008</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">2</td><td style = \"text-align: right;\">2</td><td style = \"text-align: right;\">108.225</td><td style = \"text-align: right;\">0.000999</td><td style = \"text-align: right;\">99.9</td><td style = \"text-align: right;\">8.325</td><td style = \"text-align: right;\">0.998001</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">551.777</td><td style = \"text-align: right;\">55.1777</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">3</td><td style = \"text-align: right;\">3</td><td style = \"text-align: right;\">108.117</td><td style = \"text-align: right;\">0.000998001</td><td style = \"text-align: right;\">99.8001</td><td style = \"text-align: right;\">8.31667</td><td style = \"text-align: right;\">0.997003</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">456.478</td><td style = \"text-align: right;\">45.6478</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">4</td><td style = \"text-align: right;\">4</td><td style = \"text-align: right;\">108.009</td><td style = \"text-align: right;\">0.000997003</td><td style = \"text-align: right;\">99.7003</td><td style = \"text-align: right;\">8.30836</td><td style = \"text-align: right;\">0.996006</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">437.01</td><td style = \"text-align: right;\">43.701</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">5</td><td style = \"text-align: right;\">5</td><td style = \"text-align: right;\">107.901</td><td style = \"text-align: right;\">0.000996006</td><td style = \"text-align: right;\">99.6006</td><td style = \"text-align: right;\">8.30005</td><td style = \"text-align: right;\">0.99501</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">681.328</td><td style = \"text-align: right;\">68.1328</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">6</td><td style = \"text-align: right;\">6</td><td style = \"text-align: right;\">107.793</td><td style = \"text-align: right;\">0.00099501</td><td style = \"text-align: right;\">99.501</td><td style = \"text-align: right;\">8.29175</td><td style = \"text-align: right;\">0.994015</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">512.651</td><td style = \"text-align: right;\">51.2651</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">7</td><td style = \"text-align: right;\">7</td><td style = \"text-align: right;\">107.685</td><td style = \"text-align: right;\">0.000994015</td><td style = \"text-align: right;\">99.4015</td><td style = \"text-align: right;\">8.28346</td><td style = \"text-align: right;\">0.993021</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">538.304</td><td style = \"text-align: right;\">53.8304</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">8</td><td style = \"text-align: right;\">8</td><td style = \"text-align: right;\">107.577</td><td style = \"text-align: right;\">0.000993021</td><td style = \"text-align: right;\">99.3021</td><td style = \"text-align: right;\">8.27517</td><td style = \"text-align: right;\">0.992028</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">848.208</td><td style = \"text-align: right;\">84.8208</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">9</td><td style = \"text-align: right;\">9</td><td style = \"text-align: right;\">107.47</td><td style = \"text-align: right;\">0.000992028</td><td style = \"text-align: right;\">99.2028</td><td style = \"text-align: right;\">8.2669</td><td style = \"text-align: right;\">0.991036</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">523.956</td><td style = \"text-align: right;\">52.3956</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">10</td><td style = \"text-align: right;\">10</td><td style = \"text-align: right;\">107.362</td><td style = \"text-align: right;\">0.000991036</td><td style = \"text-align: right;\">99.1036</td><td style = \"text-align: right;\">8.25863</td><td style = \"text-align: right;\">0.990045</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">404.1</td><td style = \"text-align: right;\">40.41</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">11</td><td style = \"text-align: right;\">11</td><td style = \"text-align: right;\">107.255</td><td style = \"text-align: right;\">0.000990045</td><td style = \"text-align: right;\">99.0045</td><td style = \"text-align: right;\">8.25037</td><td style = \"text-align: right;\">0.989055</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">508.197</td><td style = \"text-align: right;\">50.8197</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">12</td><td style = \"text-align: right;\">12</td><td style = \"text-align: right;\">107.148</td><td style = \"text-align: right;\">0.000989055</td><td style = \"text-align: right;\">98.9055</td><td style = \"text-align: right;\">8.24212</td><td style = \"text-align: right;\">0.988066</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">468.548</td><td style = \"text-align: right;\">46.8548</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">13</td><td style = \"text-align: right;\">13</td><td style = \"text-align: right;\">107.04</td><td style = \"text-align: right;\">0.000988066</td><td style = \"text-align: right;\">98.8066</td><td style = \"text-align: right;\">8.23388</td><td style = \"text-align: right;\">0.987078</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">456.656</td><td style = \"text-align: right;\">45.6656</td></tr><tr><td style = \"text-align: right;\">&vellip;</td><td style = \"text-align: right;\">&vellip;</td><td style = \"text-align: right;\">&vellip;</td><td style = \"text-align: right;\">&vellip;</td><td style = \"text-align: right;\">&vellip;</td><td style = \"text-align: right;\">&vellip;</td><td style = \"text-align: right;\">&vellip;</td><td style = \"text-align: right;\">&vellip;</td><td style = \"text-align: right;\">&vellip;</td><td style = \"text-align: right;\">&vellip;</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">109</td><td style = \"text-align: right;\">109</td><td style = \"text-align: right;\">97.2377</td><td style = \"text-align: right;\">0.000897579</td><td style = \"text-align: right;\">89.7579</td><td style = \"text-align: right;\">7.47983</td><td style = \"text-align: right;\">0.896682</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">104.005</td><td style = \"text-align: right;\">10.4005</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">110</td><td style = \"text-align: right;\">110</td><td style = \"text-align: right;\">97.1405</td><td style = \"text-align: right;\">0.000896682</td><td style = \"text-align: right;\">89.6682</td><td style = \"text-align: right;\">7.47235</td><td style = \"text-align: right;\">0.895785</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">97.0335</td><td style = \"text-align: right;\">9.70335</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">111</td><td style = \"text-align: right;\">111</td><td style = \"text-align: right;\">97.0434</td><td style = \"text-align: right;\">0.000895785</td><td style = \"text-align: right;\">89.5785</td><td style = \"text-align: right;\">7.46487</td><td style = \"text-align: right;\">0.894889</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">83.7453</td><td style = \"text-align: right;\">8.37453</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">112</td><td style = \"text-align: right;\">112</td><td style = \"text-align: right;\">96.9463</td><td style = \"text-align: right;\">0.000894889</td><td style = \"text-align: right;\">89.4889</td><td style = \"text-align: right;\">7.45741</td><td style = \"text-align: right;\">0.893994</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">75.1751</td><td style = \"text-align: right;\">7.51751</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">113</td><td style = \"text-align: right;\">113</td><td style = \"text-align: right;\">96.8494</td><td style = \"text-align: right;\">0.000893994</td><td style = \"text-align: right;\">89.3994</td><td style = \"text-align: right;\">7.44995</td><td style = \"text-align: right;\">0.8931</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">65.4564</td><td style = \"text-align: right;\">6.54564</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">114</td><td style = \"text-align: right;\">114</td><td style = \"text-align: right;\">96.7525</td><td style = \"text-align: right;\">0.0008931</td><td style = \"text-align: right;\">89.31</td><td style = \"text-align: right;\">7.4425</td><td style = \"text-align: right;\">0.892207</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">59.3372</td><td style = \"text-align: right;\">5.93372</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">115</td><td style = \"text-align: right;\">115</td><td style = \"text-align: right;\">96.6558</td><td style = \"text-align: right;\">0.000892207</td><td style = \"text-align: right;\">89.2207</td><td style = \"text-align: right;\">7.43506</td><td style = \"text-align: right;\">0.891315</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">49.5258</td><td style = \"text-align: right;\">4.95258</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">116</td><td style = \"text-align: right;\">116</td><td style = \"text-align: right;\">96.5591</td><td style = \"text-align: right;\">0.000891315</td><td style = \"text-align: right;\">89.1315</td><td style = \"text-align: right;\">7.42762</td><td style = \"text-align: right;\">0.890424</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">39.476</td><td style = \"text-align: right;\">3.9476</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">117</td><td style = \"text-align: right;\">117</td><td style = \"text-align: right;\">96.4626</td><td style = \"text-align: right;\">0.000890424</td><td style = \"text-align: right;\">89.0424</td><td style = \"text-align: right;\">7.4202</td><td style = \"text-align: right;\">0.889533</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">29.9494</td><td style = \"text-align: right;\">2.99494</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">118</td><td style = \"text-align: right;\">118</td><td style = \"text-align: right;\">96.3661</td><td style = \"text-align: right;\">0.000889533</td><td style = \"text-align: right;\">88.9533</td><td style = \"text-align: right;\">7.41278</td><td style = \"text-align: right;\">0.888644</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">20.2168</td><td style = \"text-align: right;\">2.02168</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">119</td><td style = \"text-align: right;\">119</td><td style = \"text-align: right;\">96.2697</td><td style = \"text-align: right;\">0.000888644</td><td style = \"text-align: right;\">88.8644</td><td style = \"text-align: right;\">7.40536</td><td style = \"text-align: right;\">0.887755</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">10.1431</td><td style = \"text-align: right;\">1.01431</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">120</td><td style = \"text-align: right;\">120</td><td style = \"text-align: right;\">96.1735</td><td style = \"text-align: right;\">0.000887755</td><td style = \"text-align: right;\">88.7755</td><td style = \"text-align: right;\">7.39796</td><td style = \"text-align: right;\">0.886867</td><td style = \"text-align: right;\">0.001</td><td style = \"text-align: right;\">0.0</td><td style = \"text-align: right;\">0.0</td></tr></tbody></table></div>\n```\n:::\n:::\n\n\n## Endnotes\n\n### Further Work\n\nThis example is simple, but could be greatly optimized to reduce intermediate variable allocations, refine the timing of cashflows, add additional decrements, handle different types of `Policy`s, abstract some of the projection mechanics into an `Iterable` object, etc.\n\n### Disclaimer\nCreated as a proof of concept and not indended to be interpreted as a meaningful projection.\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\" data-relocate-top=\"true\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}