<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.43">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Alec Loudenback and Dimitar Vanguelov">
<meta name="dcterms.date" content="2021-10-24">
<meta name="description" content="JuliaActuary is an ecosystem of packages that makes Julia the easiest language to get started for actuarial workflows.">

<title>JuliaActuary – Getting Started with Julia for Actuaries</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../..//assets/favicon.ico" rel="icon">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link rel="stylesheet" href="../../assets/highlight/styles/github.min.css">
<script src="../../assets/highlight/highlight.min.js"></script>
<script src="../../assets/highlight/languages/julia.min.js"></script>
<script src="../../assets/highlight/languages/julia-repl.min.js"></script>
<script src="../../assets/highlight/languages/python.min.js"></script>
<script src="../../assets/highlight/languages/r.min.js"></script>
<script>hljs.highlightAll();</script>
<script data-goatcounter="https://juliaactuary.goatcounter.com/count" async="" src="//gc.zgo.at/count.js"></script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../assets/logos/android-chrome-512x512.png" alt="JuliaActuary Logo" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">JuliaActuary</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../packages.html"> 
<span class="menu-text">Packages</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../learn.html"> 
<span class="menu-text">Learn</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../examples.html"> 
<span class="menu-text">Examples</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../benchmarks.html"> 
<span class="menu-text">Benchmarks</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../community.html"> 
<span class="menu-text">Learn</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/JuliaActuary"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../all-posts.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Getting Started with Julia for Actuaries</h1>
                  <div>
        <div class="description">
          JuliaActuary is an ecosystem of packages that makes Julia the easiest language to get started for actuarial workflows.
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">industry</div>
                <div class="quarto-category">blog</div>
                <div class="quarto-category">statistics</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Alec Loudenback and Dimitar Vanguelov </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">October 24, 2021</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p>The previously published article titled <a href="../../blog/julia-actuaries">Julia for Actuaries</a> gave a longer introduction to why Julia works so well in actuarial workflows. In summary: Julia’s attributes are “evident in its pragmatic, productivity-focused design choices, pleasant syntax, rich ecosystem, thriving communities, and its ability to be both very general purpose and power cutting edge computing”.</p>
<p>This is the second in the following trilogy of articles:</p>
<ol type="1">
<li>Why Julia works so well for actuaries</li>
<li>Basic tooling and general packages of interest</li>
<li>Actuarial-specific packages</li>
</ol>
<section id="reminder-of-why-julia" class="level2">
<h2 class="anchored" data-anchor-id="reminder-of-why-julia">Reminder of “Why Julia?”</h2>
<p>In the <a href="https://insights.stackoverflow.com/survey/2021?_ga=2.236209345.190202062.1628102352-126161871.1625855113#technology-most-loved-dreaded-and-wanted">2021 Stack Overflow Survey</a>, Julia was the 5th most loved language. This was ahead of other languages commonly used in actuarial contexts, such as Python (6th), R (28th), C++ (25th), Matlab (36th), or VBA (37th).</p>
<p>There are three main reasons to consider using Julia:</p>
<ol type="1">
<li><p><strong>The language itself offers expressiveness, pleasant syntax, and less boilerplate than many alternatives.</strong> Multiple dispatch is a programming paradigm that is an evolution of object-oriented approaches that’s more amenable to a wide range of programming styles, including functional and vectorized approaches. It affords Julia code a high level of composability and is what makes the Julia ecosystem so powerful.</p></li>
<li><p><strong>High performant Julia code, instead of needing libraries written in C/Cython/etc.</strong> For lots of problems, especially “toy” problems as you learn a language, the speed of Matlab/Python/R is fast enough. However, in real usage, particularly actuarial problems, you might find that when you need the performance, it’s too late<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p></li>
<li><p><strong>The language, tooling, and ecosystem is very modern, mature, and powerful.</strong> A built-in package manager, packages that work together without needing to know about each other, differentiable programming, meta-programming (macros), first-class GPU/parallel support, and wide range of packages relevant to actuarial workloads.</p></li>
</ol>
<p>More detail of why Julia works so well in actuarial contexts was discussed in the prior article, <a href="../../blog/julia-actuaries">Julia for Actuaries</a>. The rest of this article is going to focus on getting oriented to using Julia, and the next article in the series will introduce actuarial packages available.</p>
</section>
<section id="the-language-itself" class="level2">
<h2 class="anchored" data-anchor-id="the-language-itself">The language itself</h2>
<p>Julia is a high level language, with syntax that should feel familiar to someone coming from R, Python, or Matlab. This article is too short for a true introduction to the language. Fortunately, there’s a ton of great references online, such as:</p>
<ul>
<li><a href="https://cheatsheets.quantecon.org/">Matlab-Python-Julia Cheatsheet</a></li>
<li><a href="https://learnxinyminutes.com/docs/julia/">Learn Julia in Y minutes</a></li>
<li><a href="https://docs.julialang.org/en/v1/manual/getting-started/">Julia Official Documentation</a></li>
</ul>
<p>Julia code is compiled on-the-fly, generating efficient code for the specific data that you are currently working with. This is kind of an in-between of a fully interpreted language (like pure Python or R) and a complied language like C++ which must compile everything in advance.</p>
<p>Born of a desire to have the niceties of high level languages with the performance of low level compiled code, there are many built-in data structures and functions related to numerical computing like that used in finance, insurance, and statistics.</p>
<p>If you just want a quick introduction for beginners, <a href="https://www.juliafordatascience.com/">Julia For Data Science</a> is a great resource with easy, digestible tutorials. If you want a ground-up introduction, the e-book <a href="https://benlauwens.github.io/ThinkJulia.jl/latest/book.html">Think Julia</a> starts simple and builds up. If you prefer to learn-by-example: the interactive, free, online course <a href="https://computationalthinking.mit.edu/Spring21/">Introduction to Computational Thinking</a> by MIT will have you working on everything from data science to climate modeling.</p>
<p>Lastly, <a href="https://juliaacademy.com/">JuliaAcademy.com</a> has a number of free courses that introduce the language via data science, machine learning, or “for nervous beginners.”</p>
<section id="spotlight-on-features" class="level3">
<h3 class="anchored" data-anchor-id="spotlight-on-features">Spotlight on Features</h3>
<p>A full introduction to the language is beyond the scope of this article. There are two features we’d like to highlight here, which exemplify powerful features not available in other languages. These might sound a little technical at first, but as Paul Graham describes in his essay, <a href="http://www.paulgraham.com/avg.html">Beating the Average</a>, it is hard to see what you might be missing until you get experience with it.</p>
<section id="multiple-dispatch" class="level4">
<h4 class="anchored" data-anchor-id="multiple-dispatch">Multiple Dispatch</h4>
<p>Multiple dispatch is the term for deciding which function to call based on the combination of arguments. Taking an example pointed out by data scientist Brian Groenke<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> of a simple ordinary least squares implementation:</p>
<pre class="julia"><code>ols(x,y) = inv(x'x)x'y

# alternatively, one can write this using matrix division:
ols(x,y) = x \ y</code></pre>
<p>“This very naive implementation already works for any appropriately sized <code>x</code> and <code>y</code>, including the multivariate case where <code>x</code> is a matrix or multiple-target case where <code>y</code> is a matrix. Furthermore, if <code>x</code> and <code>y</code> have special types [e.g diagonal or sparse matrices], we get the potentially optimized implementations [of the different combinations] for free.”</p>
<p>In a language without multiple dispatch, the alternative would be to:</p>
<ul>
<li>define <code>ols</code> for every combination of types you might encounter</li>
<li>attach a method to a class with every combination of second argument type</li>
</ul>
<p>The statistician Josh Day wrote <a href="https://medium.com/@josh_40272/why-i-use-julia-8eb47216880e">an entire blog post</a> about how multiple dispatch boosts one’s productivity, allows for less code, and more time spent on solving the actual problem at hand.</p>
</section>
<section id="meta-programming-and-macros" class="level4">
<h4 class="anchored" data-anchor-id="meta-programming-and-macros">Meta-programming and Macros</h4>
<p>Meta-programming is the essentially the ability to program the language itself, and macros are one of the tools that provide this ability. In the Paul Graham essay mentioned above, macros are an example of the competitive advantage conferred by a more powerful language.</p>
<p>For example, when you see <code>@benchmark present_value(0.05, [10, 10, 10])</code> in Julia, the <code>@benchmark</code> is a macro (starts with <code>@</code>). It modifies the written code to wrap <code>present_value</code> in setup, timing, and summary code before returning the result of <code>present_value</code>. There is an example of this later in the article.</p>
<p>Most other languages don’t have macros, and it means that it’s hard to ‘hook into’ code in a safe way. For example, benchmarking can involve a lot of boilerplate code just to setup, time, and summarize the results (such as the <code>timeit</code> library in Python)<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>.</p>
<p>Note that <em>using</em> macros is quite prevalent when coding in Julia, however <em>writing</em> macros is <a href="https://www.youtube.com/watch?v=mSgXWpvQEHE">more advanced usage</a> and beyond the scope of a “getting-started” guide.</p>
</section>
</section>
</section>
<section id="installation-and-tooling" class="level2">
<h2 class="anchored" data-anchor-id="installation-and-tooling">Installation and Tooling</h2>
<section id="installation" class="level3">
<h3 class="anchored" data-anchor-id="installation">Installation</h3>
<p>Julia is open source and can be downloaded from <a href="https://JuliaLang.org">JuliaLang.org</a> and is available for all major operating systems. After you download and install, then you have Julia installed and can access the <strong>REPL</strong>, or Read-Eval-Print-Loop, which can run complete programs or <a href="https://krasjet.com/rnd.wlk/julia/">function as powerful day-to-day calculator</a>. However, many people find it more comfortable to work in a text editor or <strong>IDE</strong> (Integrated Development Environment).</p>
<p>If you are looking for managed installations with a curated set of packages for use within an organization, there are ways to self-host package repositories and otherwise administratively manage packages. <a href="https://juliacomputing.com/">Julia Computing</a> offers managed support with enterprise solutions, including push-button cloud compute capabilities.</p>
</section>
<section id="package-management" class="level3">
<h3 class="anchored" data-anchor-id="package-management">Package Management</h3>
<p>Julia comes with <code>Pkg</code>, a built-in package manger. With it, you can install packages, pin certain versions, recreate environments with the same set of dependencies, and upgrade/remove/develop packages easily. It’s one of the things that <em>just works</em> and makes Julia stand out versus alternative languages that don’t have a de-facto way of managing or installing packages.</p>
<p>Package installation is accomplished interactively in the REPL or executing commands.</p>
<ul>
<li>In the REPL, you can change to the Package Management Mode by hitting <code>]</code> and, e.g., <code>add DataFrames CSV</code> to install the two packages. Hit <code>[backspace]</code> to exit that mode in the REPL.</li>
<li>The same operation without changing REPL modes would be: <code>using Pkg; Pkg.add(["DataFrames", "CSV"])</code></li>
</ul>
<p>Related to packages, are <strong>environments</strong> which are a self-contained workspaces for your code. This lets you install only packages that are relevant to the current work. It also lets you ‘remember’ the exact set of packages and versions that you used. In fact, you can share the environment with others, and it will be able to recreate the same environment as when you ran the code. This is accomplished via a <code>Project.toml</code> file, which tracks the direct dependencies you’ve added, along with details about your project like its version number. The <code>Manifest.toml</code> tracks the entire dependency tree.</p>
<p>Reproducibility via the environment tools above is a really key aspect that will ensure Julia code is consistent across time and users, which is important for financial controls.</p>
</section>
<section id="editors" class="level3">
<h3 class="anchored" data-anchor-id="editors">Editors</h3>
<p>Because Julia is very extensible and amenable to analysis of its own code, you can typically find plugins for whatever tool you prefer to write code in. A few examples:</p>
<section id="visual-studio-code" class="level4">
<h4 class="anchored" data-anchor-id="visual-studio-code">Visual Studio Code</h4>
<p>Visual Studio Code is a free editor from Microsoft. There’s a full-featured <a href="https://www.julia-vscode.org/">Julia plugin</a> available, which will help with auto-completion, warnings, and other code hints that you might find in a dedicated editor (e.g.&nbsp;PyCharm or RStudio). Like those tools, you can view plots, search documentation, show datasets, debug, and manage version control.</p>
</section>
<section id="notebooks" class="level4">
<h4 class="anchored" data-anchor-id="notebooks">Notebooks</h4>
<p>Notebooks are typically more interactive environments than text editors - you can write code in cells and see the results side-by-side.</p>
<p>The most popular notebook tool is Jupyter (“Julia, Python, R”). It is widely used and fits in well with exploratory data analysis or other interactive workflows. It can be installed by adding the <a href="https://github.com/JuliaLang/IJulia.jl"><code>IJulia.jl</code></a> package.</p>
<p><a href="https://plutojl.org/"><code>Pluto.jl</code></a> is a newer tool, which adds reactivity and interactivity. It is also more amenable to version control than Jupyter notebooks because notebooks are saved as plain Julia scripts. Pluto is unique to Julia because of the language’s ability to introspect and analyze dependencies in its own code. Pluto also has built-in package/environment management, meaning that Pluto notebooks contains all the code needed to reproduce results (as long as Julia and Pluto are installed).</p>
</section>
</section>
</section>
<section id="a-whirlwind-tour-of-general-purpose-packages" class="level2">
<h2 class="anchored" data-anchor-id="a-whirlwind-tour-of-general-purpose-packages">A Whirlwind Tour of General-Purpose Packages</h2>
<p>The Julia ecosystem favors composability and interoperability, enabled by multiple dispatch. In other words, because it’s easy to automatically specialize functionality based on the type of data being used, there’s much less need to bundle a lot of features within a single package.</p>
<p>As you’ll see, Julia packages tend to be less vertically integrated because it’s easier to pass data around. Counterexamples of this in Python and R:</p>
<ul>
<li>Numpy-compatible packages that are designed to work with a subset of numerically fast libraries in Python</li>
<li>special functions in Pandas to read CSV, JSON, database connections, etc.</li>
<li>The Tidyverse in R has a tightly coupled set of packages that works well together but has limitations with some other R packages</li>
</ul>
<p>Julia is not perfect in this regard, but it’s neat to see how frequently things <em>just work</em>. It’s not magic, but because of Julia features outside the scope of this article it’s easy for package developers (and you!) to do this.</p>
<p>Julia also has language-level support for documentation, so packages can follow a consistent style of help-text and have the docs be auto-generated into web pages available locally or online.</p>
<p>The following highlighted packages were chosen for their relevance to typical actuarial work, with a bias towards those used regularly by the authors. This is a small sampling of the over 6000 registered Julia Packages<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a></p>
<section id="data" class="level3">
<h3 class="anchored" data-anchor-id="data">Data</h3>
<p>Julia offers a rich data ecosystem with a multitude of available packages. Perhaps at the center of the data ecosystem are <a href="https://github.com/JuliaData/CSV.jl"><code>CSV.jl</code></a> and <a href="https://dataframes.juliadata.org/stable/"><code>DataFrames.jl</code></a>. <code>CSV.jl</code> is for reading and writing files text files (namely CSVs) and offers top-class read and write performance. <code>DataFrames.jl</code> is a mature package for working with dataframes, comparable to Pandas or dplyr.</p>
<p>Other notable packages include <a href="https://github.com/JuliaDatabases/ODBC.jl"><code>ODBC.jl</code></a>, which lets you connect to any database (given you have the right drivers installed), and <a href="https://github.com/JuliaData/Arrow.jl"><code>Arrow.jl</code></a> which implements the <a href="https://arrow.apache.org/">Apache Arrow</a> standard in Julia.</p>
<p>Worth mentioning also is <code>Dates</code>, a built-in package making date manipulation straightforward and robust.</p>
<p>Check out <a href="https://github.com/JuliaData">JuliaData</a> org for more packages and information.</p>
</section>
<section id="plotting" class="level3">
<h3 class="anchored" data-anchor-id="plotting">Plotting</h3>
<p><a href="http://docs.juliaplots.org/latest/"><code>Plots.jl</code></a> is a meta-package providing an interface to consistently work with several plotting <a href="https://docs.juliaplots.org/latest/backends/">backends</a>, depending if you are trying to emphasize interactivity on the web or print-quality output. You can very easily add animations or change almost any feature of a plot.</p>
<p><a href="https://github.com/JuliaPlots/StatsPlots.jl"><code>StatsPlots.jl</code></a> extends <code>Plots.jl</code> with a focus on data visualization and compatibility with dataframes.</p>
<p><a href="http://makie.juliaplots.org/dev/"><code>Makie.jl</code></a> supports GPU-accelerated plotting and can create very rich, <a href="https://lazarusa.github.io/BeautifulMakie/">beautiful visualizations</a>, but it’s main downside is that it has not yet been optimized to minimize the time-to-first-plot.</p>
</section>
<section id="statistics" class="level3">
<h3 class="anchored" data-anchor-id="statistics">Statistics</h3>
<p>Julia has first-class support for <code>missing</code> values, which follows the rules of <a href="https://en.wikipedia.org/wiki/Three-valued_logic">three-valued logic</a> so other packages don’t need to do anything special to incorporate missing values.</p>
<p><a href="https://github.com/JuliaStats/StatsBase.jl"><code>StatsBase.jl</code></a> and <a href="https://github.com/JuliaStats/Distributions.jl"><code>Distributions.jl</code></a> are essentials for a range of statistics functions and probability distributions respectively.</p>
<p>Others include:</p>
<ul>
<li><a href="https://turing.ml/stable/"><code>Turing.jl</code></a>, a probabilistic programming (Bayesian statistics) library, which is outstanding in its combination of clear model syntax with performance.</li>
<li><a href="https://github.com/JuliaStats/GLM.jl"><code>GLM.jl</code></a> for any type of linear modeling (mimicking R’s <code>glm</code> functionality).</li>
<li><a href="https://github.com/JuliaNLSolvers/LsqFit.jl"><code>LsqFit.jl</code></a> for fitting data to non-linear models.</li>
<li><a href="https://github.com/JuliaStats/MultivariateStats.jl"><code>MultivariateStats.jl</code></a> for multivariate statistics, such as PCA.</li>
</ul>
<p>You can find more packages and learn about them <a href="https://juliastats.org/">here</a>.</p>
</section>
<section id="machine-learning" class="level3">
<h3 class="anchored" data-anchor-id="machine-learning">Machine Learning</h3>
<p><a href="https://fluxml.ai/"><code>Flux</code></a>, <a href="https://www.gen.dev/"><code>Gen</code></a>, <a href="https://github.com/denizyuret/Knet.jl"><code>Knet</code></a>, and <a href="https://alan-turing-institute.github.io/MLJ.jl/v0.12/"><code>MLJ</code></a> are all very popular machine learning libraries. There are also packages for PyTorch, Tensorflow, and SciKitML available. One advantage for users is that the Julia packages are written in Julia, so it can be easier to adapt or see what’s going on in the entire stack. In contrast to this design, PyTorch and Tensorflow are built primarily with C++.</p>
<p>Another advantage is that the Julia libraries can use automatic differentiation to optimize on a wider range of data and functions than those built into libraries in other languages.</p>
</section>
<section id="differentiable-programming" class="level3">
<h3 class="anchored" data-anchor-id="differentiable-programming">Differentiable Programming</h3>
<p>Sensitivity testing is very common in actuarial workflows: essentially, it’s understanding the change in one variable in relation to another. In other words, the derivative!</p>
<p>Julia has unique capabilities where almost across the entire language and ecosystem, you can take the derivative of entire functions or scripts. For example, the following is real Julia code to automatically calculate the sensitivity of the ending account value with respect to the inputs:</p>
<pre class="julia-repl"><code>julia&gt; using Zygote

julia&gt; function policy_av(pol)
    COIs = [0.00319, 0.00345, 0.0038, 0.00419, 0.0047, 0.00532]
    av = 0.0
    for (i,coi) in enumerate(COIs)
        av += av * pol.credit_rate
        av += pol.annual_premium
        av -= pol.face * coi
    end
    return av                # return the final account value
end

julia&gt; pol = (annual_premium = 1000, face = 100_000, credit_rate = 0.05);

julia&gt; policy_av(pol)        # the ending account value
4048.08

julia&gt; policy_av'(pol)       # the derivative of the account value with respect to the inputs
(annual_premium = 6.802, face = -0.0275, credit_rate = 10972.52)</code></pre>
<p>When executing the code above, Julia isn’t just adding a small amount and calculating the finite difference. Differentiation is applied to entire programs through extensive use of basic derivatives and the chain rule. <strong>Automatic differentiation</strong>, has uses in optimization, machine learning, sensitivity testing, and risk analysis. You can read more about Julia’s autodiff ecosystem <a href="https://juliadiff.org/">here</a>.</p>
</section>
<section id="utilities" class="level3">
<h3 class="anchored" data-anchor-id="utilities">Utilities</h3>
<p>There are also a lot of quality-of-life packages, like <a href="https://timholy.github.io/Revise.jl/stable/"><code>Revise.jl</code></a> which lets you edit code on the fly without needing to re-run entire scripts.</p>
<p><a href="https://github.com/JuliaCI/BenchmarkTools.jl"><code>BenchmarkTools.jl</code></a> makes it incredibly easy to benchmark your code - simply add <code>@benchmark</code> in front of what you want to test, and you will be presented with detailed statistics. For example:</p>
<pre class="julia"><code>julia&gt; using ActuaryUtilities, BenchmarkTools

julia&gt; @benchmark present_value(0.05,[10,10,10])

BenchmarkTools.Trial: 10000 samples with 994 evaluations.
 Range (min … max):  33.492 ns … 829.015 ns  ┊ GC (min … max): 0.00% … 95.40%
 Time  (median):     34.708 ns               ┊ GC (median):    0.00%
 Time  (mean ± σ):   36.599 ns ±  33.686 ns  ┊ GC (mean ± σ):  4.40% ±  4.55%

  ▁▃▆▆▆██▇▄▃▂         ▁                                        ▂
  █████████████▆▆▇█▇████▇██▇█▇█▇▇▆▆▅▅▅▅▅▄▅▄▄▅▅▅▅▄▄▁▅▄▄▅▄▄▅▅▆▅▆ █
  33.5 ns       Histogram: log(frequency) by time      45.6 ns &lt;

 Memory estimate: 112 bytes, allocs estimate: 1.
</code></pre>
<p><code>Test</code> is a built-in package for performing testsets, while <a href="https://github.com/JuliaDocs/Documenter.jl"><code>Documenter.jl</code></a> will build high-quality documentation based on your inline documentation.</p>
<p><a href="https://github.com/pdeffebach/ClipData.jl"><code>ClipData.jl</code></a> lets you copy and paste from spreadsheets to Julia sessions.</p>
</section>
<section id="other-packages" class="level3">
<h3 class="anchored" data-anchor-id="other-packages">Other packages</h3>
<p>Julia is a general-purpose language, so you will find packages for web development, graphics, game development, audio production, and much more. You can explore packages (and their dependencies) at https://juliahub.com/.</p>
</section>
<section id="actuarial-packages" class="level3">
<h3 class="anchored" data-anchor-id="actuarial-packages">Actuarial packages</h3>
<p>Saving the best for last, the next article in the series will dive deeper into actuarial packages, such as those published by <a href="https://JuliaActuary.org">JuliaActuary</a> for easy mortality table manipulation, common actuarial functions, financial math, and experience analysis.</p>
</section>
</section>
<section id="getting-help" class="level2">
<h2 class="anchored" data-anchor-id="getting-help">Getting Help</h2>
<p>Aside from the usual StackOverflow, there is a <a href="https://julialang.org/community/">community page</a> with links to the Discourse forum, Slack, and Zulip. The latter two have a dedicated <code>#actuary</code> channel.</p>
</section>
<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">Summary</h2>
<p>This article introduced Julia, getting setup with running and editing, and pointed toward a number of general-purpose features and packages useful to actuaries. The next article in the series will focus on the range of actuarial-specific packages available.</p>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>https://ocw.mit.edu/courses/mathematics/18-335j-introduction-to-numerical-methods-spring-2019/week-1/Julia-intro.pdf<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>https://discourse.julialang.org/t/claim-false-julia-isnt-multiple-dispatch-but-overloading/42370/114<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>Perhaps benchmarking isn’t the best example because of the ‘magic’ <code>%timeit</code> keyword in Jupyter. However, the <a href="https://ipython.readthedocs.io/en/stable/interactive/magics.html">documentation</a> for IPython itself reveals the limitations: “To Jupyter users: Magics are specific to and provided by the IPython kernel. Whether Magics are available on a kernel is a decision that is made by the kernel developer on a per-kernel basis. To work properly, Magics must use a syntax element which is not valid in the underlying language.”<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>As of July 2021.<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/JuliaActuary\.org");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>